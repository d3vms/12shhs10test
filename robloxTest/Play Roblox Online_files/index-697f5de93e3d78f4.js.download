(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{3485:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return U},default:function(){return N}});var i=n(266),o=n(9711),r=n(809),a=n.n(r),d=n(901),l=n(2040),c=n(5190),s=n(7211),p=n(5264),u=n(9954),f=n(4209),h=n(7104),g=function(){window.googletag=window.googletag||{cmd:[]};var e=window.devicePixelRatio;window.googletag.cmd.push((function(){window.googletag.pubads().addEventListener("slotRequested",(function(t){var n,i,o=p.Z.getState().play.videoRef,r=(null===o||void 0===o||null===(n=o.current)||void 0===n?void 0:n.clientHeight)||0,a=(null===o||void 0===o||null===(i=o.current)||void 0===i?void 0:i.clientWidth)||0,d=t.slot.getSlotElementId();-1!==d.indexOf("leaderBoard")?(0,u.L9)("AdRequested",{adContext:"Midroll",adType:"Display",adWidth:720,adHeight:90,viewPortInnerWidth:window.innerWidth,viewPortInnerHeight:window.innerHeight,androidWidth:r,androidHeight:a,pixelRatio:e}):-1!==d.indexOf("skyScrapper")?(0,u.L9)("AdRequested",{adContext:"Midroll",adType:"Display",adWidth:160,adHeight:600,viewPortInnerWidth:window.innerWidth,viewPortInnerHeight:window.innerHeight,androidWidth:r,androidHeight:a,pixelRatio:e}):-1!==d.indexOf("pre-roll-gpt")?(0,u.L9)("AdRequested",{adContext:"Preroll",adType:"Display",adWidth:300,adHeight:250,viewPortInnerWidth:window.innerWidth,viewPortInnerHeight:window.innerHeight,androidWidth:r,androidHeight:a,pixelRatio:e}):-1!==d.indexOf("div-gpt-ad-rewarded")?(0,u.L9)("AdRequested",{adContext:"Ingame",adType:"Display",adWidth:300,adHeight:250,viewPortInnerWidth:window.innerWidth,viewPortInnerHeight:window.innerHeight,androidWidth:r,androidHeight:a,pixelRatio:e}):(-1!==d.indexOf("panelAdBottom_HTML")||-1!==d.indexOf("div-gpt-ad-panelAdMega"))&&(0,u.L9)("AdRequested",{adContext:"Midroll",adType:"Display",adWidth:300,adHeight:250,viewPortInnerWidth:window.innerWidth,viewPortInnerHeight:window.innerHeight,androidWidth:r,androidHeight:a,pixelRatio:e})})),window.googletag.pubads().addEventListener("slotRenderEnded",(function(t){var n,i,o=t.slot.getSlotElementId(),r=p.Z.getState(),a=r.play.videoRef,d=(null===a||void 0===a||null===(n=a.current)||void 0===n?void 0:n.clientHeight)||0,l=(null===a||void 0===a||null===(i=a.current)||void 0===i?void 0:i.clientWidth)||0;if(-1!==o.indexOf("leaderBoard"))t.isEmpty?(0,u.L9)("AdNotFilled",{adContext:"Midroll",adType:"Display",adWidth:720,adHeight:90,viewPortInnerWidth:window.innerWidth,viewPortInnerHeight:window.innerHeight,androidWidth:d,androidHeight:l,pixelRatio:e}):(0,u.L9)("AdDisplayed",{adContext:"Midroll",adType:"Display",adWidth:t.size[0],adHeight:t.size[1],viewPortInnerWidth:window.innerWidth,viewPortInnerHeight:window.innerHeight,androidWidth:d,androidHeight:l,pixelRatio:e});else if(-1!==o.indexOf("skyScrapper"))t.isEmpty?(0,u.L9)("AdNotFilled",{adContext:"Midroll",adType:"Display",adWidth:160,adHeight:600,viewPortInnerWidth:window.innerWidth,viewPortInnerHeight:window.innerHeight,androidWidth:d,androidHeight:l,pixelRatio:e}):(0,u.L9)("AdDisplayed",{adContext:"Midroll",adType:"Display",adWidth:t.size[0],adHeight:t.size[1],viewPortInnerWidth:window.innerWidth,viewPortInnerHeight:window.innerHeight,androidWidth:d,androidHeight:l,pixelRatio:e});else if(-1!==o.indexOf("pre-roll-gpt"))t.isEmpty?(p.Z.dispatch({type:f.Z.UPDATE_ADS_STATE,payload:{adsEnded:!0}}),(0,u.L9)("AdNotFilled",{adContext:"Preroll",adType:"Display",adWidth:300,adHeight:250,viewPortInnerWidth:window.innerWidth,viewPortInnerHeight:window.innerHeight,androidWidth:d,androidHeight:l,pixelRatio:e})):(setTimeout((function(){p.Z.dispatch({type:f.Z.UPDATE_ADS_STATE,payload:{adsEnded:!0}})}),5e3),(0,u.L9)("AdDisplayed",{adContext:"Preroll",adType:"Display",adWidth:t.size[0],adHeight:t.size[1],viewPortInnerWidth:window.innerWidth,viewPortInnerHeight:window.innerHeight,androidWidth:d,androidHeight:l,pixelRatio:e}));else if(-1!==o.indexOf("div-gpt-ad-rewarded")){if(t.isEmpty)(0,u.L9)("AdNotFilled",{adContext:"Ingame",adType:"Display",adWidth:300,adHeight:250,viewPortInnerWidth:window.innerWidth,viewPortInnerHeight:window.innerHeight,androidWidth:d,androidHeight:l,pixelRatio:e}),(0,h.f)("ADS::rewardedAdLoad::fail"),p.Z.dispatch({type:f.Z.UPDATE_REWARDED_SDK_STATE,payload:{rewardedAdsSDK:!1,fallbackDisplayed:!1}}),r.play.muted||a&&a.current&&(a.current.muted=!1);else(0,u.L9)("AdDisplayed",{adContext:"Ingame",adType:"Display",adWidth:t.size[0],adHeight:t.size[1],viewPortInnerWidth:window.innerWidth,viewPortInnerHeight:window.innerHeight,androidWidth:d,androidHeight:l,pixelRatio:e}),p.Z.dispatch({type:f.Z.UPDATE_ADS_STATE,payload:{fallbackDisplayed:!0}})}}))}))},w=n(8863),y=n(5935),v=n(5152),m=n(9008),P=n(3910),x=n(757),Z=n(7670),b=n(5769),T=n(5617),H=n(1925),W=n(5715),I=n(6243),k=n(8378),D=function(e){var t=(0,Z.useState)(e),n=t[0],i=t[1];return(0,Z.useEffect)((function(){document.title=n}),[n]),[n,i]},E=n(7778),M=n(3182),j=n(3145),A=n(6682),S=n(4298),O=n(5490),R=n(8764).Buffer,L=(0,v.default)((function(){return Promise.all([n.e(662),n.e(652),n.e(530),n.e(977),n.e(390),n.e(971)]).then(n.bind(n,5090))}),{loadableGenerated:{webpack:function(){return[5090]},modules:["index.tsx -> @pages/play"]}}),_=function(e){(0,u.L9)("Uptime",{elapsedTime:(Date.now()-e)/1e3,isTabVisible:"visible"===document.visibilityState,intervalDurationSecs:30,isGameDisplayed:(0,u.hR)()})},U=!0,N=function(e){var t=e.appInfo,n=e.authServiceHost,r=e.pwaIconHost,p=e.pwaNudgeDelayMs,h=e.features,v=e.authUseThirdPartyFlow,U=e.prefix,N=e.authRedirectionUrl,X=e.playDomain,C=e.adsConfigUrl,Y=t.metaTags,q=void 0===Y?"":Y,z=t.media,B=t.packageName,F=(z||{}).desktop,G=D(""),V=(0,o.Z)(G,2),K=V[0],Q=V[1],$=!1,J=(0,Z.useRef)();(0,x.y)()||($="true"===sessionStorage.getItem("isNewUser"));var ee=(0,T.I0)(),te=function(){var e=(0,i.Z)(a().mark((function e(t){var n,i,o,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(new TextEncoder).encode(t),e.next=3,crypto.subtle.digest("SHA-1",n);case 3:return i=e.sent,o=Array.from(new Uint8Array(i)),r=o.map((function(e){return e.toString(16).padStart(2,"0")})).join(""),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,Z.useEffect)((function(){var e;b.ZP.appInfo=t,b.ZP.prefix=U,(0,M.v)({authServiceHost:n,authUseThirdPartyFlow:v,pwaIconHost:r,pwaNudgeDelayMs:p}),"ropro"===(0,b.We)().utmCampaign.toLowerCase()&&Q("RoPro Cloud Play via now.gg"),"Html"===b.ZP.appInfo.appType&&Q("Play ".concat(b.ZP.appInfo.appName," Online")),b.ZP.features=h,b.ZP.authRedirectionUrl=N,b.ZP.authUseThirdPartyFlow=v,function(){var e=(0,i.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(b.ZP.appInfo.packageName&&b.ZP.appInfo.packageName.length>40)){e.next=5;break}return e.next=3,te(b.ZP.appInfo.packageName);case 3:t=e.sent,b.ZP.compressedPackage=t;case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()().then((function(){})).catch((function(e){}));try{var o="IncognitoMode";(0,j.r)().then((function(e){e.isPrivate&&(b.ZP.pwaSupported=!1,(0,u.L9)("".concat(o,"Detected")))})).catch((function(e){(0,u.L9)("".concat(o,"DetectionFailed"),{error:e})}))}catch(c){}(0,H.SR)()&&"now.gg"===(0,b.We)().utmSource&&(0,b.yS)(),(0,u.L9)(A.eu),b.ZP.playPageUpdate=!0,(0,b.Sf)("play-page");var d=Date.now();_(d),J.current=setInterval((function(){_(d)}),3e4),sessionStorage.removeItem("isNewUserForExperiment"),ee({type:I.Z.UPDATE_ORIENTATION,payload:{orientation:t.initialOrientation}}),(0,E.i1)();var l=(0,P._B)();return ee({type:W.Z.GUEST_FLOW,payload:{guestFlow:l}}),null!==b.ZP&&void 0!==b.ZP&&null!==(e=b.ZP.features)&&void 0!==e&&e.ads&&g(),l&&ee({type:W.Z.SET_LOGGED_IN,payload:{isLoggedIn:!1,showPreloader:!1}}),function(){clearInterval(J.current)}}),[]);return(0,O.BX)(s.Pw,{children:[(0,O.BX)(m.default,{children:[(0,O.tZ)("meta",{httpEquiv:"Cache-control",content:"no-cache, no-store, must-revalidate"}),(0,O.tZ)("meta",{httpEquiv:"Pragma",content:"no-cache"}),(0,O.tZ)("script",{dangerouslySetInnerHTML:{__html:(0,k.ZP)(t,B,U)}}),!(0,x.y)()&&!$&&!(0,H.tq)()&&!(0,H.Em)()&&!(0,H.zc)()&&(0,O.BX)(O.HY,{children:[(0,O.tZ)("script",{async:!0,src:"https://fundingchoicesmessages.google.com/i/pub-9233878085988971?ers=1",nonce:"qMzTqTjB9TkXzg695cx_KA"}),(0,O.tZ)("script",{nonce:"qMzTqTjB9TkXzg695cx_KA",dangerouslySetInnerHTML:{__html:'(function () {\n                  function signalGooglefcPresent() {\n                    if (!window.frames["googlefcPresent"]) {\n                      if (document.body) {\n                        const iframe = document.createElement("iframe");\n                        iframe.style =\n                          "width: 0; height: 0; border: none; z-index: -1000; left: -1000px; top: -1000px;";\n                        iframe.style.display = "none";\n                        iframe.name = "googlefcPresent";\n                        document.body.appendChild(iframe);\n                      } else {\n                        setTimeout(signalGooglefcPresent, 0);\n                      }\n                    }\n                  }\n                  signalGooglefcPresent();\n                })();'}}),(0,O.tZ)("script",{dangerouslySetInnerHTML:{__html:(0,k.Ci)()}})]}),(0,y.ZP)(q||""),K&&(0,O.tZ)("title",{children:K}),(0,O.tZ)("style",{"data-type":"ng-fonts",id:"".concat(R.from(X).toString("base64")),children:"@font-face {\n            font-family: 'icomoon';\n            src: url('".concat(U,"/play/fonts/icomoon.eot?ow6spm');\n            src: url('").concat(U,"/play/fonts/icomoon.eot?ow6spm#iefix') format('embedded-opentype'),\n            url('").concat(U,"/play/fonts/icomoon.ttf?ow6spm') format('truetype'),\n            url('").concat(U,"/play/fonts/icomoon.woff?ow6spm') format('woff'),\n            url('").concat(U,"/play/fonts/icomoon.svg?ow6spm#icomoon') format('svg');\n            font-weight: normal;\n            font-style: normal;\n            font-display: block;\n          }")})]}),(0,O.BX)(d.im,{desktopBanner:null===F||void 0===F?void 0:F.banner,mobileBanner:null===F||void 0===F?void 0:F.banner,children:[(0,O.tZ)(w.Z,{}),(0,O.tZ)("noscript",{style:{margin:"auto",borderRadius:"20px",padding:"20px",textAlign:"center",fontSize:"x-large",color:"#ffffff",background:"rgba(0, 0, 0, 0.8)"},children:"You need to enable JavaScript to run this app."}),(0,O.tZ)(c.x.Provider,{value:t,children:(0,O.BX)(l.Z,{children:[(0,O.tZ)(S.default,{src:"https://dn0qt3r0xannq.cloudfront.net/nowgg-IZQznjkQaj/video/prebid-load.js",onLoad:function(){ee({type:f.Z.UPDATE_IMAERROR,payload:{imaError:!1}})},onError:function(){ee({type:f.Z.UPDATE_IMAERROR,payload:{imaError:!0,adsEnded:!0}})}}),(0,O.tZ)(S.default,{src:"https://dn0qt3r0xannq.cloudfront.net/nowgg-IZQznjkQaj/display/prebid-load.js",onError:function(){ee({type:f.Z.UPDATE_IMAERROR,payload:{displayAdsError:!0}})}}),(0,O.tZ)(L,{manifest:!0,adsConfigUrl:C})]})})]})]})}},901:function(e,t,n){"use strict";n.d(t,{im:function(){return i.Z}});var i=n(3911);n(4539)},4539:function(e,t,n){"use strict";n.d(t,{n:function(){return i.ZP},h:function(){return j}});var i=n(3149),o=n(2809),r=n(5264),a=n(4048),d=n(1925),l=n(3493),c=n.n(l),s=n(9761),p=n(5769),u=n(6682),f=n(3349),h=n(6379),g=n(6676),w=n(65);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=function(e,t){var n=new ArrayBuffer(2*t.length+2),i=new Uint16Array(n);i[0]=e;for(var o=0;o<t.length;o+=1)i[o+1]=t[o];(0,a.fr)(n)},P=function(){return r.Z.getState().play.orientation===f.cj.portrait},x=function(e,t){var n=e;return n["movement".concat(t)]||n["mozMovement".concat(t)]||n["webkitMovement".concat(t)]||0},Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.target,i=n.getBoundingClientRect(),o=e.offsetX,r=e.offsetY;if(s.ZP.pointerLock){var a=x(e,"X"),l=x(e,"Y");return s.ZP.mouseLockMoved.x+=a,s.ZP.mouseLockMoved.y+=l,[t,s.ZP.mouseLockMoved.x,s.ZP.mouseLockMoved.y]}return(0,d.tq)()?window.innerHeight>window.innerWidth&&!P()?[t,Math.ceil(e.clientY-i.y),Math.ceil(i.right-e.clientX)]:window.innerHeight<window.innerWidth&&P()?[t,Math.ceil(i.bottom-e.clientY),Math.ceil(e.clientX-i.left)]:[t,Math.ceil(e.clientX-i.x),Math.ceil(e.clientY-i.y)]:((0,d.tq)()||P()||(o=Math.ceil(e.clientX-i.x),r=Math.ceil(e.clientY-i.y)),"mousedown"===e.type&&e.which&&1===e.which&&(w.fl.lastX=i.left+o,w.fl.lastY=i.top+r),[t,o,r])},b=function(){w.fl.shouldTrackMove=Object.keys(w.fl.pressed).filter((function(e){return w.fl.pressed[Number(e)]})).length},T=new Map,H=[],W=c()((function(e){if(e&&e.target){var t=e.target.getBoundingClientRect(),n=e.offsetX,i=e.offsetY;P()||(n=Math.ceil(e.clientX-t.x),i=Math.ceil(e.clientY-t.y));var o=e.deltaY?120*-e.deltaY:1.5*-e.deltaX;s.ZP.mouseScroll(n,i,o)}}),30),I=Date.now(),k=function(e){if(e.preventDefault(),e.stopPropagation(),s.ZP.inUse()&&!0===e.ctrlKey)return W.cancel(),W(e),void(I=Date.now());if(!(Date.now()-I<1e3)){var t=Z(e);if(w.fl.native)(0,g.xk)(e,t[1],t[2]);else if(!w.fl.shouldTrackMove){var n=e.wheelDeltaY?e.wheelDeltaY===-3*e.deltaY:0===e.deltaMode;w.jp.started||m(h.hw.DOWN,t),w.jp.started=!0;var i=e.target.getBoundingClientRect(),o=r.Z.getState().play.orientation;if(n){var a=e.deltaY/120*h.$N,d=e.deltaX/120*h.$N;w.jp.y=Math.floor(w.jp.y+a),w.jp.x=Math.floor(w.jp.x+d);var l=[];l=o===f.cj.landscape?[0,Math.ceil(e.clientX-i.x)-w.jp.x,Math.ceil(e.clientY-i.y)-w.jp.y]:[0,e.offsetX-w.jp.x,e.offsetY-w.jp.y],w.jp.lastX=l[1],w.jp.lastY=l[2],window.setTimeout((function(){m(h.hw.MOVE,l)}),10)}else{var c=e.deltaY/120*h.$N;c<0&&c>-10?c=-10:c>0&&c<10&&(c=10),w.jp.y=Math.floor(w.jp.y+c);var p=[];p=o===f.cj.landscape?[0,Math.ceil(e.clientX-i.x),Math.ceil(e.clientY-i.y)-w.jp.y]:[0,e.offsetX,e.offsetY-w.jp.y],w.jp.lastX=p[1],w.jp.lastY=p[2],window.setTimeout((function(){m(h.hw.MOVE,p)}),10)}w.jp.timeout&&clearTimeout(w.jp.timeout),w.jp.timeout=window.setTimeout((function(){var e=[0,w.jp.lastX,w.jp.lastY];m(h.hw.UP,e),w.jp.lastX=0,w.jp.lastY=0,w.jp.y=0,w.jp.x=0,w.jp.started=!1}),100),e.preventDefault()}}},D=k,E=c()(k,16),M=c()((function(e){if(M.cancel(),"touch"===e.pointerType){var t=T.get(e.pointerId);m(h.hw.MOVE,Z(e,t))}else{var n=Z(e);if(-1!==e.button){if(r.Z.getState().play.shiftLockActive)return;w.fl.pressed[e.button]?(w.fl.pressed[e.button]=!1,s.ZP.inUse()&&(w.fl.shouldTrackMove>0||s.ZP.pointerLock)?s.ZP.mouseUp(e.button,n[1],n[2]):w.fl.native?(0,g.xk)(v(v({},e),{},{type:u.Vy,button:e.button,target:e.target}),n[1],n[2]):w.fl.shouldTrackMove&&m(h.hw.UP,n)):(w.fl.pressed[e.button]=!0,s.ZP.inUse()&&(w.fl.shouldTrackMove>0||s.ZP.pointerLock)?s.ZP.mouseDown(e.button,n[1],n[2]):w.fl.native?(0,g.xk)(v(v({},e),{},{type:u.I6,button:e.button,target:e.target}),n[1],n[2]):w.fl.shouldTrackMove&&m(h.hw.DOWN,n))}else s.ZP.inUse()&&(w.fl.shouldTrackMove>0||s.ZP.pointerLock)?s.ZP.mouseMove(n[1],n[2]):w.fl.native?(g.bc.x=n[1],g.bc.y=n[2],(0,g.xk)(e,n[1],n[2])):w.fl.shouldTrackMove&&m(h.hw.MOVE,n);b()}}),8),j={mouseDown:function(e){var t=Z(e);if("touch"===e.pointerType){var n=function(){for(var e=0;e<10;e+=1)if(!H[e])return H[e]=1,e;return 0}();T.set(e.pointerId,n),m(h.hw.DOWN,Z(e,n))}else{if(w.fl.pressed[e.button]=!0,s.ZP.inUse())s.ZP.mouseDown(e.button,t[1],t[2]);else if(w.fl.native){var i=r.Z.getState().play.isFullscreen;p.ZP.features.mouseLock?(document.pointerLockElement?p.ZP.features.enableAutoMouseLock&&1===e.button&&(0,g.xk)(v(v({},e),{},{type:u.Vy,button:1,target:e.target}),t[1],t[2]):(p.ZP.features.enableAutoMouseLock&&((0,g.E4)(e.clientX,e.clientY),(0,g.xk)(v(v({},e),{},{type:u.I6,button:1,target:e.target}),g.bc.x,g.bc.y)),i&&(0,g.E4)(e.clientX,e.clientY)),(0,g.xk)(e,t[1],t[2])):(0,g.xk)(e,t[1],t[2])}else m(h.hw.DOWN,t);b()}},mouseUp:function(e){var t=Z(e);if((3===e.which||2===e.button)&&r.Z.getState().play.shiftLockActive)return;if("touch"===e.pointerType){var n=T.get(e.pointerId);"number"===typeof n&&(m(h.hw.UP,Z(e,n)),T.delete(e.pointerId),H[n]=0)}else w.fl.pressed[e.button]&&(w.fl.pressed[e.button]=!1,s.ZP.inUse()?s.ZP.mouseUp(e.button,t[1],t[2]):w.fl.native?((0,g.xk)(e,t[1],t[2]),1===e.button&&document.pointerLockElement&&e.target&&(0,g.xk)(v(v({},e),{},{type:u.I6,button:1,target:e.target}),g.bc.x,g.bc.y)):m(h.hw.UP,t));b()},mouseMove:M,mouseCancel:function(e){for(var t=Object.keys(w.fl.pressed),n=Z(e),i=0,o=t.length;i<o;i+=1)w.fl.pressed[Number(t[i])]&&(w.fl.native?(0,g.xk)(v(v({},e),{},{type:u.Vy,button:Number(t[i]),target:e.target}),n[0],n[1]):m(h.hw.UP,n),w.fl.pressed[Number(t[i])]=!1)},mouseWheel:D,mouseWheelNative:E}},1141:function(e,t,n){"use strict";var i=n(7670).default.createContext({});t.Z=i},5190:function(e,t,n){"use strict";n.d(t,{x:function(){return i.Z}});var i=n(1141)},5301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(3485)}])}},function(e){e.O(0,[774,661,294,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=index-697f5de93e3d78f4.js.map